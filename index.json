[{"categories":null,"content":"大佬  Python 技术 —-\u003e TRHX’S BLOG  热爱无线电 阅读 网络技术 —-\u003e I BCL. ","date":"2020-04-27","objectID":"/friends/:0:1","tags":null,"title":"友情链接","uri":"/friends/"},{"categories":["技术分享"],"content":"如题，今天突然遇到一个场景，此博客的hexo架子是放在群辉docker里的，一般写完文章会push到VPS的git仓库，再用nginx展示静态页。 今天心血来潮，push到github的仓库里，利用github pages来展示页面，也蛮简单。但vps 就接收不到了呀。 于是乎，在vps用go写了一段服务。利用github仓库的webhook，也就是 push到github后，他可以请求下你指定的url，发送一个push状态。 利用这个特性，vps上起了一个web服务，用于接收github的 webhook请求，并自动pull 静态页到www目录，实现同步更新。 最近在看golang，就用go写了一个服务。参考了https://github.com/moonagic/GoWebhook 废话不多说，直接看代码。 /** * @author seven * @version 1.0 */ package main import ( \"fmt\" \"net/http\" \"log\" \"crypto/hmac\" \"crypto/sha1\" \"encoding/hex\" \"io/ioutil\" \"os/exec\" ) //处理请求 func wsHandler(w http.ResponseWriter, r *http.Request) { var Secret string =\"xxxx\" if (r.Header.Get(\"x-github-event\") == \"push\" || r.Header.Get(\"x-github-event\") == \"ping\") { bodyContent, _ := ioutil.ReadAll(r.Body) r.Body.Close() signature := r.Header.Get(\"X-Hub-Signature\") if VerifySignature(signature, string(bodyContent), Secret) { //检验 github 发过来的 签名 //(\"验证通过,启动部署任务\") //校验通过，执行shell命令，pull最新代码 cmd := exec.Command(\"/bin/sh\",\"-c\",\"cd /www \u0026\u0026 git reset --hard master \u0026\u0026 git pull\") _, err := cmd.Output() if err == nil { fmt.Fprintln(w, \"{\\\"code\\\":200, \\\"description\\\":\\\"false\\\"}\") } else { fmt.Fprintln(w, \"{\\\"code\\\":200, \\\"description\\\":\\\"OK\\\"}\") } } else { fmt.Fprintln(w, \"{\\\"code\\\":200, \\\"error\\\":\\\"Signature error\\\"}\") } } else { fmt.Fprintln(w, \"{\\\"code\\\":200, \\\"error\\\":\\\"Unmatch x-github-event\\\"}\") } } //main入口函数 func main() { // 当有请求访问ws时，执行此回调方法 http.HandleFunc(\"/\",wsHandler) // 监听127.0.0.1:7777 err := http.ListenAndServe(\"127.0.0.1:7777\", nil) if err != nil { log.Fatal(\"ListenAndServe\", err.Error()) } } //根据 密钥和 body 生成签名 func generateHashSignature(message string, secret string) string { h := hmac.New(sha1.New, []byte(secret)) h.Write([]byte(message)) return \"sha1=\" + hex.EncodeToString(h.Sum(nil)) } // 比较签名结果 func VerifySignature(signature string, data string, secret string) bool { return signature == generateHashSignature(string(data), secret) } /www目录是 nginx 的root目录，静态页是直接pull到 www的。所以屏蔽了对.git的访问。 github page的地址： https://82kg.github.io/ ","date":"2020-01-15","objectID":"/posts/40496.html:0:0","tags":["编程"],"title":"一个使用Go编写的Github webhook接收处理服务","uri":"/posts/40496.html"},{"categories":["技术分享"],"content":"故障描述： 修改wan口 –\u003e 高级设置里—\u003e重设 MAC 地址 ，在自定义mac地址后，无法生效，还是显示的原来的mac地址。 解决办法： 第一步： 去到交换机里，添加一条和原wan口一样配置的，但是vlan id 设为别的数字，比如原来是2，现在可以写3 或者其他数字。如下图： 第二步： 修改wan口配置，物理接口选择刚刚 配置好的即可 ","date":"2019-07-04","objectID":"/posts/20546.html:0:0","tags":["openwrt"],"title":"openwrt或lede的wan口无法自定义mac的解决方法","uri":"/posts/20546.html"},{"categories":["技术分享"],"content":"2020-01-16更新： 别折腾了，建议安装office2013.没毛病 64位系统安装包如下 文件名 cn_office_professional_plus_2013_with_sp1_x64_dvd_3921920.iso SHA1 5BC5AE6B03876E634FA6396749C59164C7767F9F 文件大小 934.85MB 发布时间 2014-03-18 ed2k://|file|cn_office_professional_plus_2013_with_sp1_x64_dvd_3921920.iso|980258816|E18C9CF896D65B2778AA1A44C922C377|/ 32位系统安装包如下 文件名 cn_office_professional_plus_2013_with_sp1_x86_dvd_3921919.iso SHA1 B34D6B805649A5C4ED35568D1A7F7A8496819FCD 文件大小 818.49MB 发布时间 2014-03-18 ed2k://|file|cn_office_professional_plus_2013_with_sp1_x86_dvd_3921919.iso|858245120|EA50FF2DE78488DF2646D66FA791164A|/ 故障描述： 安装Office 2016后，双击EXCEL文件打开后显示为空白。 解决办法： 开始——运行——regedit 修改HKEY_CLASSES_ROOT\\Excel.Sheet.12\\shell\\Open\\command项默认值。 原值： “C:\\Program Files\\Microsoft Office\\Root\\Office16\\EXCEL.EXE” /dde 修改，如下： “C:\\Program Files\\Microsoft Office\\Root\\Office16\\EXCEL.EXE” “%1” 同理 将 Excel.Sheet.8 Excel.Sheet.CSV 全都改一遍 ","date":"2019-06-21","objectID":"/posts/1638.html:0:0","tags":["office"],"title":"office2010,office2016打开excel文档时为空白的解决方法","uri":"/posts/1638.html"},{"categories":["技术分享"],"content":"step1: 输入 dpkg-reconfigure locales 选 zh_CN.UTF-8 ,空格打钩，tab 到确定按钮即可。 第二个画面 选择默认语言，随便选，这一步主要是为了安装 zh_CN.UTF-8 语言包。 ","date":"2019-05-31","objectID":"/posts/5753.html:1:0","tags":["linux"],"title":"armbian修改为中文环境，解决中文乱码","uri":"/posts/5753.html"},{"categories":["技术分享"],"content":"step2: 输入 vi /etc/default/locale 按 i 键，进入insert模式，回车到最后一行 输入 LC_ALL=zh_CN.UTF-8 （直接把所有环境都变成中文） 按 ESC键，再按 shift + 冒号键，输入 wq 回车即可。 重新登入 即可 输入中文，系统里的中文也能正常显示了 ","date":"2019-05-31","objectID":"/posts/5753.html:2:0","tags":["linux"],"title":"armbian修改为中文环境，解决中文乱码","uri":"/posts/5753.html"},{"categories":["技术分享"],"content":"WAY1 如果你一直是U盘启动的 armbian，那只要重做下U盘的armbian系统就行。记得备份原文件。 ","date":"2019-05-31","objectID":"/posts/37445.html:0:1","tags":["linux"],"title":"斐讯N1 armbian升级","uri":"/posts/37445.html"},{"categories":["技术分享"],"content":"WAY2 如果 armbian是写入到 emmc的，那先备份下你原系统的所有重要文件。 下载最新的armbian系统，写入到U盘，等于重做U盘的系统。(这布操作可以参考我的另一篇文章：斐讯N1安装armbian) 插入靠近hdmi接口的 USB口。断电重启 即可。 系统会自动从U盘启动。 再次执行 /root/install.sh 则会把U盘上的最新的armbian 重新写入到emmc。 一个干净完整的新系统 又安装好了。！！！ ","date":"2019-05-31","objectID":"/posts/37445.html:0:2","tags":["linux"],"title":"斐讯N1 armbian升级","uri":"/posts/37445.html"},{"categories":["技术分享"],"content":"一、系统降级并输入官改系统 1、降级过程此处参考学习原文链接：https://www.right.com.cn/forum/thread-336545-1-1.html （如果你的版本小于等于2.19 则无需降级，切记第一次开机先不要联网，否则会自动升级） 1.开启N1的adb调试功能： 将N1连显示器和鼠标，进入天天链界面后查看IP，版本号，如果版本号不高于2.19则可跳过降级步，否则无法线刷。四连击版本号，显示adb打开。 2.准备工作： ①软件： 下载adb工具、USB burning tool、降版本用的3个低版本关键分区img文件（boot.img、bootloader.img、recovery.img ，已放到adb文件夹中）、将镜像写入U盘的工具（balenaEtcher、Win32DiskImager、USB image tool等之类的）、Armbian镜像等、SSL连接工具（如PUTTY，这样就不用将N1接显示器及鼠标键盘了）； ②硬件： 好用的U盘一个（比较挑U盘，部分U盘引导armbian时进入不了U盘系统，会进入recovery界面）、双公头USB线一根、网线一根 3.降级： ①安装USB burning tool，安装时会提示安装驱动，必须安装； ②在进行步骤1后，将电脑接入与N1同一网络下（下面均如此），CMD命令行环境进入adb安装目录，运行 adb connect N1的ip地址 ； 用双公头USB线将电脑和N1连接（N1端插到HDMI接口那个USB口上）； ③CMD环境中输入： adb shell reboot fastboot,重启后N1进入fashtboot模式，此时电脑会提示有新硬件并自动安装（一般为：Android Phone - Android ADB Interface），如果没有自动安装驱动，可能时USB线有问题； ④CMD环境按CTRL+C，可以中止当前操作，输入fastboot devices -l ，正常情况下会显示N1的序列号； ⑤将盒子对应的boot.img、bootloader.img、recovery.img放到adb文件夹内，分别执行fastboot flash bootloader bootloader.img、 fastboot flash boot boot.img、 fastboot flash recovery recovery.img 命令，将低版本分区镜像刷入N1，等待三秒，断电，完成降级（降级后连接显示器后看版本号并不会变化，实际上已经降级了，恢复了线刷功能）。 4.刷入官改版本 ①用USB线连接N1和电脑，打开USB burning tool，准备好官改镜像文件（如N1_mod_by_webpad_v2.2_20180920.img）； ②adb connect ip ，连接成功后，adb reboot update ，此时N1会重启，重启后USB burning tool节目显示连接成功后，文件→导入烧录包，导入后，去掉右边“擦除flash”和“擦除bootloader”选项前面的勾，点击开始，即开始进行录入，完成后拔线，停止烧录。 ③此时断电重启的话，则N1已经变成了官改版本。 ","date":"2019-05-30","objectID":"/posts/53788.html:0:1","tags":["linux"],"title":"斐讯N1刷armbian","uri":"/posts/53788.html"},{"categories":["技术分享"],"content":"二、刷入armbian系统 二、刷入armbian系统 1.制作armbian启动U盘 ①使用USB image tool等之类的软件，将armbian镜像写入U盘（U盘中原文件全部会丢失，提前备份）： 这儿使用的是balenaEtcher，比较推荐 官方下载：https://www.balena.io/etcher/ （可能会比较慢） 孤岛下载：http://cloud.feiji.work/s/46p6ns9y （也可能很慢啦，但可以用工具下载！） 这里使用的是Armbian_5.77_Aml-s905_Debian_stretch_default_5.0.2_20190318.img，写入后再插入会发现有2个磁盘，其中一个是以“BOOT”为卷标的，另一个在Windows环境下无法查看，提示需格式化，这里不要格式化。 1.下载地址：N1选择S905 孤岛下载：http://cloud.feiji.work/s/49myr109 (已经开启了X-Sendfile我自己测试下载速度有所提升) 官方下载（速度较慢）：https://yadi.sk/d/pHxaRAs-tZiei ②修改U盘文件： 然后重新插拔一次硬盘，这时电脑上会多出一个分区“BOOT” 进入到目录：/boot/dtb 替换为恩山论坛大佬的dtb文件（注：我在写这篇文章的时候基于5.77版，这个版本的内核虽然已经很不错，但是空闲时负载较高，所以还是换为大佬的dtb） 下载地址：http://cloud.feiji.work/s/ddd09jgp 据说由于原镜像空闲时负载较高，要将BOOT盘下dtb\\meson-gxl-s905d-phicomm-n1.dtb替换为恩山无线大佬的dtb文件，返回BOOT盘根目录，编辑文件：uEnv.in， 替换第一行内容为： dtb_name=/dtb/meson-gxl-s905d-phicomm-n1.dtb 据说如果不进行配置很可能出现无网络的情况。 2.将armbian刷入N1 ①将写入后并改好的U盘插入N1靠近HDMI接口的U口，断电重启N1，如果U盘是天选之U盘，则N1会从U盘启动进入armbian系统（否则可能会进入安卓的recovery界面），此时可以N1接显示器和键盘，或者直接用putty连接（ip正常情况还是上面那个ip）。界面会提示输入登录账号，默认为root，密码是1234，注意，输入密码时不会有任何显示，输入后直接回车即可，如果正确则会进入root目录。首次登陆要求更改root密码，注意开始是要输入原密码的！同时需要创建一个新用户，随便创建一个即可，后面基本都是用root账号反正。 不建立新用户也OK ②将armbian系统从U盘写入N1的emmc，保证以后无需U盘启动：输入 /root/install.sh 回车，运行完毕后，拔掉U盘，断电重启，N1可以自行进入armbian系统了。 如果重启没有自动进入armbian，则可以尝试， 用adb connect 盒子IP 回车 然后 输入：adb shell reboot update 此时盒子会从U盘启动Linux。 本博客的 hexo环境 也在这armbian上，通过git部署到vps ","date":"2019-05-30","objectID":"/posts/53788.html:0:2","tags":["linux"],"title":"斐讯N1刷armbian","uri":"/posts/53788.html"},{"categories":["技术分享"],"content":"自建的激活服务器，24小时运行，稳如老狗，保证长久运行。 可以一键激活VOL版的window和office。bat激活脚本仅13KB大小，源码可见。 单击下载 —\u003e 一键激活window\u0026office.bat 推荐去https://msdn.itellyou.cn/ 下载安装正版的window和office。 有任何问题 请留言 ","date":"2019-03-29","objectID":"/posts/43220.html:0:0","tags":["开发","激活"],"title":"一键激活window\u0026office","uri":"/posts/43220.html"},{"categories":["生活"],"content":"换个耳机 公司里wifi信号太多，很多都是2.4G频道的，导致之前的蓝牙4.1的耳机 经常受到干扰，时常听着就断断续续。明确不是电量问题。拿回家里用就很稳。 于是就寻思着换一款蓝牙耳机，要蓝牙5.0 听说抗干扰能力比4.1的强很多，带宽也大。 逛着逛着就发现了 QCY T1，貌似网上评价都还不错，张大妈也很是推荐。也有和小米新出的 蓝牙耳机AirDots青春版 的对比文。 感觉比小米性价比还高。 于是乎入了 QCY T1 青春版。99 你买不了吃亏，你买不了上当。 讲道理听感还不错。默认规格的耳塞就蛮适合，戴久了也不难受。附送的另外三款的耳塞就不用开封了。 总结就是：可以入。 ","date":"2019-03-11","objectID":"/posts/61631.html:1:0","tags":["生活","电子产品"],"title":"QCY T1青春版蓝牙耳机","uri":"/posts/61631.html"},{"categories":["开发"],"content":"在群辉里使用docker安装了CentOS，完了之后镜像无法显示中文问题。 RUN rm -rf /etc/localtime \u0026\u0026 ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime #修改时区 RUN yum -y install kde-l10n-Chinese \u0026\u0026 yum -y reinstall glibc-common #安装中文支持 RUN localedef -c -f UTF-8 -i zh_CN zh_CN.utf8 #配置显示中文 vi /etc/locale.conf ##加下面内容到第一行，设置中文 LANG=zh_CN.UTF8 ","date":"2019-01-30","objectID":"/posts/23291.html:0:0","tags":["群辉","docker"],"title":"docker安装的centos中文乱码","uri":"/posts/23291.html"},{"categories":["技术分享"],"content":"1.给你的文章生成sitemap文件 npm install hexo-generator-sitemap - -save #sitemap.xml适合提交给谷歌搜素引擎 npm install hexo-generator-baidu-sitemap - -save #baidusitemap.xml适合提交百度搜索引擎 然后在站点配置文件_config.yml中添加以下代码 sitemap: path: sitemap.xml baidusitemap: path: baidusitemap.xml 注意缩进！ 每次hexo g后都会在/public目录下生成sitemap.xml和baidusitemap.xml，这就是你的站点地图 ","date":"2019-01-14","objectID":"/posts/46438.html:1:0","tags":["SEO"],"title":"hexo博客的SEO优化","uri":"/posts/46438.html"},{"categories":["技术分享"],"content":"2.文章URL的优化。 看本博客的URL 都是html后缀的静态url链接。且都是二级结构，用户点两次就能看到文章。要如何设置呢? 修改_config.yml 其中的一个字段 permalink: article/:year:month:day:urlname.html 可以参照此样式修改。 然后在 /你的hexo路径/scaffolds/post.md 增加字段urlname，如下 title: {{ title }} date: {{ date }} updated: {{ date }} tags: categories: urlname: urlname 最好用英文，这就是 xxxx.html url会显示的名字。 ","date":"2019-01-14","objectID":"/posts/46438.html:2:0","tags":["SEO"],"title":"hexo博客的SEO优化","uri":"/posts/46438.html"},{"categories":["技术分享"],"content":"3.robots.txt 文件的优化 在source目录下新增一个 robots.txt 文件，内容如下 User-agent: * Allow: / Allow: /archives/ Allow: /article/ Disallow: /js/ Disallow: /css/ Disallow: /fonts/ Disallow: /vendors/ Sitemap: https://www.mi20.top/sitemap.xml Sitemap: https://www.mi20.top/baidusitemap.xml Allow 就是允许爬虫机器人访问的目录 Disallow 就是反义啦 ","date":"2019-01-14","objectID":"/posts/46438.html:3:0","tags":["SEO"],"title":"hexo博客的SEO优化","uri":"/posts/46438.html"},{"categories":["生活"],"content":"a..人类全身上下，最强韧有力的肌肉，竟是舌头。 b..张开眼睛打喷嚏是不可能的。 c..憋气自杀也是不可能成功的。 d..每一次你舔一张邮票的背胶，你就吸收了十分之一卡路里。 e..右撇子平均比左撇子多活九年。 f..鳄鱼无法伸出它们的舌头。 g..北极熊都是左撇子。 h..某些狮子可以一天之内交配50次以上。果真是万兽之王呀… i..鸵鸟的眼睛比脑袋大；而海星至今还没演化出脑。 j..跳蚤可以跳过它们350倍身长的距离，相当于一个人跳过一个美式足球场。 k..一只被摘掉头的蟑螂可以存活9天，9天后死亡的原因则是过度饥饿?所以还是当场立刻打死好 平常不知道的知识 1..长颈鹿没办法咳嗽 2..猫头鹰是唯一能够分辨蓝色的鸟类 3..一只鲸鱼一分钟心跳只有九下 4..平均来说,一个成人在清晨时,比在傍晚时高上0.4吋,因为在白天脊椎的软骨组织容易遭到压迫 5..我们喝到肚子里头的水已经有三亿岁了 6..巧克力含有一种称为苯基的化学物质,跟你谈恋爱时大脑里头可以制造出来的东西一样 7..只有百分之三十的人可以放大缩小自己的鼻孔 8..英文是所有语言中所含单字最多的,有接近一百万个,德语的字汇少于十八万字,而法语更糟,只有不到万字.. 9..一只牡蛎的性别会由男变女,此后一生中还会变个几次 10.艾菲尔铁塔的草稿蓝图摊开来有超过14000平方呎的面积 11..根据一项1845年由英国通过的法律,自杀是非常严重的罪最重可以处以吊死的极刑 12..在太空中太空人是没办法哭的,因为没有地心引力,眼泪流不出来 13..一只变色龙的舌头是它自己身体的两倍长 14..最常用牙签的人是美国人 15..瞎眼的变色龙还是有能力变色来适应周遭环境 16..有百分之二十七的美国男性大学生认为人生是一个没啥意义的活地狱 17..一个正常人的眼部肌肉一天平均要动上一万到一万五千次 18..大象死后还会保持站立姿势 19..有些昆虫没有头还可以再活上一年 20..达芬奇光是画蒙娜丽莎的嘴唇就花上十二年 21..玻璃破掉时,玻璃碎片的时速最高可达每小时三千英哩 22..乳牛听音乐时可以供应更多牛奶 23…下午摘下的玫瑰比清晨摘下的玫瑰更能持久不枯萎 24..虎鲨的胚胎在母亲的子宫里需经过激烈的搏斗,胜利者就是可以活著出生的小虎鲨 25..一只70磅的章鱼可以穿过一个仅一枚银币大小的洞因为他们没有脊椎 26..贝多芬坐著写歌时习惯用冰水冲他的脸,他相信这样可以刺激他的大脑做出更好的东西 27..印尼的竹节虫是全世界最大的昆虫,有些光是身长就有一呎长 28..男人身体含有比女性身体更多的血液,通常一名男子身上的血液可多达1.5加仑,但女子身上却只有0.875加仑 29..降落伞的发明人把第一次乘坐降落伞的机会让给了一只狗 30..一台波音747的机翼长度恰巧是莱特兄弟第一次飞行的距离 31..一只倭寇大螃蟹可能长达12呎 32..一只鲨鱼可以侦测到水中仅百万分之一含量的血液 33..森巴舞的森巴原来的意思是一起磨肚脐吧 34..小孩子在春天长的比较快 35..你知道亚马逊河流入大西洋的水有多少吗?在河流出海口一百英里以内的大西洋,你所喝到的水都还淡水 36..刚出生的小火鸡要有爸爸妈妈教导如何吃东西,不然会饿死 37..月亮有多重?八百一十亿磅. 38..蝙蝠是唯一能飞的哺乳动物 39..一只毛虫身上有超过两千条的肌肉 40..其实, 河马跑得比人快 ","date":"2019-01-07","objectID":"/posts/46180.html:0:0","tags":["生活"],"title":"冷知识","uri":"/posts/46180.html"},{"categories":null,"content":"请扫码加微信入群，有问题请留言 ","date":"0001-01-01","objectID":"/weixin/:0:1","tags":null,"title":"","uri":"/weixin/"}]